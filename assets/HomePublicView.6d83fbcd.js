var w=Object.defineProperty;var p=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var g=(i,t,s)=>t in i?w(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s,h=(i,t)=>{for(var s in t||(t={}))C.call(t,s)&&g(i,s,t[s]);if(p)for(var s of p(t))$.call(t,s)&&g(i,s,t[s]);return i};import{_ as N}from"./PageComponent.9e71cb9f.js";import{m as P,p as V,e as q,s as d,o as a,b as o,g as m,w as v,F as n,d as e,t as b,h as _,c as y,n as f,j as u,u as B}from"./index.3ea80eeb.js";import{_ as S}from"./ProductListItem.be2636ff.js";import{_ as j}from"./PublicationListItem.3bb9d917.js";import{_ as D}from"./UserDetailsPopUp.996752c7.js";var F="/images/pub1.jpg",J="/images/pub2.png";const O=e("div",{class:"flex justify-between items-center"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Accueil")],-1),z={class:"grid grid-cols-4 gap-4"},A={class:"px-4 py-3 col-span-4 md:col-span-3 border border-black-600 max"},E={key:0,class:"resultats mb-3"},H={key:0},L={key:1},R={class:"text-xl font-bold text-gray-900 mb-3"},G={key:0,class:"publications"},I=e("h2",{class:"text-xl font-bold text-gray-900"},"Publications",-1),K={class:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3"},M={key:1,class:"produits"},Q=e("h2",{class:"text-xl font-bold text-gray-900"},"Produits",-1),T={class:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3"},U={key:2},W=e("p",null,"Pas de resultats",-1),X=[W],Y=e("div",{class:"publicite-wrapper"},[e("h2",{class:"text-xl font-bold text-gray-900"},"Publicite"),e("div",{class:"publicite mt-2"},[e("img",{src:F,alt:"publicite"}),e("img",{src:J,alt:"publicite"})])],-1),Z={class:"categories px-4 py-3 border border-black-600"},tt=e("h2",{class:"text-xl font-bold text-gray-900"},"Categories",-1),et={class:"mt-3"},st=["onClick"],nt={setup(i){const t=P({q:"",loading:!0,show:!1,data:{publications:[],products:[]}});V(()=>d.state.search.data,(r,k)=>{t.value.show=!0,t.value.loading=!1,t.value.data=h({},JSON.parse(JSON.stringify(r)))});const s=q(()=>d.state.categories);s.loaded||d.dispatch("getCategories");function x(r){t.value.show=!0,t.value.loading=!0,d.dispatch("searchCategory",r).then(()=>{t.value.loading=!1})}return(r,k)=>(a(),o(n,null,[m(N,null,{header:v(()=>[O]),default:v(()=>[e("div",z,[e("div",A,[t.value.show?(a(),o("div",E,[t.value.loading?(a(),o("div",H," Chargement... ")):(a(),o("div",L,[e("h2",R,'Recherche "'+b(t.value.data.q)+'"',1),t.value.data.publications.length?(a(),o("div",G,[I,e("div",K,[(a(!0),o(n,null,_(t.value.data.publications,(l,c)=>(a(),y(j,{key:l.id,publication:l,publique:!0,class:"opacity-0 animate-fade-in-down",style:f({animationDelay:`${c*.1}s`})},null,8,["publication","style"]))),128))])])):u("",!0),t.value.data.products.length?(a(),o("div",M,[Q,e("div",T,[(a(!0),o(n,null,_(t.value.data.products,(l,c)=>(a(),y(S,{key:l.id,product:l,publique:!0,class:"opacity-0 animate-fade-in-down",style:f({animationDelay:`${c*.1}s`})},null,8,["product","style"]))),128))])])):u("",!0),!t.value.data.publications.length&&!t.value.data.products.length?(a(),o("div",U,X)):u("",!0)]))])):u("",!0),Y]),e("div",Z,[tt,e("div",et,[(a(!0),o(n,null,_(B(s).data,(l,c)=>(a(),o("div",{class:"text-indigo-600 underline cursor-pointer",key:c,onClick:at=>x(l.id)},b(l.name),9,st))),128))])])])]),_:1}),m(D)],64))}};export{nt as default};

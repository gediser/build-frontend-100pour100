import{h as a}from"./moment.9709ab41.js";import{f as m,o as i,b as n,d as t,t as u,j as l,u as b,g,w as v,a as h,s as x}from"./index.1f063332.js";const p={class:"flex flex-col py-4 px-6 shadow-md bg-white hover:bg-gray-50 h-[470px]"},w=["src"],k=["innerHTML"],y={key:0,class:"mt-3"},j={key:1,class:"flex justify-between items-center mt-3"},C=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),M=h(" \xC9diter "),V={class:"flex items-center"},q=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),B=[q],N={props:{publication:Object,publique:String},emits:["activate","desactivate","delete"],setup(e,{emit:s}){a.locale("fr"),a.updateLocale("fr",{relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}});function c(d){x.commit("showUserDetailsPopUp",d)}return(d,o)=>{const f=m("router-link");return i(),n("div",p,[t("p",{onClick:o[0]||(o[0]=r=>c(e.publication.user)),class:"cursor-pointer font-bold text-indigo-600 hover:text-indigo-700 py-2"},u(e.publication.user.name),1),t("img",{src:e.publication.image_url,alt:"",class:"w-full h-48 object-cover"},null,8,w),t("div",{innerHTML:e.publication.description,class:"overflow-hidden flex-1"},null,8,k),e.publique=="admin"?(i(),n("div",y,[e.publication.activate?(i(),n("button",{key:0,onClick:o[1]||(o[1]=r=>s("desactivate",e.publication)),class:"flex py-2 px-4 border border-transparent text-sm rounded-md text-white bg-red-600 hover:bg-red-700 focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},"D\xE9sactiver")):(i(),n("button",{key:1,onClick:o[2]||(o[2]=r=>s("activate",e.publication)),class:"flex py-2 px-4 border border-transparent text-sm rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Activer"))])):l("",!0),t("div",null,"Publi\xE9e "+u(b(a)(e.publication.created_at).fromNow()),1),e.publique=="private"?(i(),n("div",j,[g(f,{to:{name:"PublicationView",params:{id:e.publication.id}},class:"flex py-2 px-4 border border-transparent text-sm rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:v(()=>[C,M]),_:1},8,["to"]),t("div",V,[e.publication.id?(i(),n("button",{key:0,type:"button",onClick:o[3]||(o[3]=r=>s("delete",e.publication)),class:"h-8 w-8 flex items-center justify-center rounded-full border border-transparent text-sm text-red-500 focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},B)):l("",!0)])])):l("",!0)])}}};export{N as _};

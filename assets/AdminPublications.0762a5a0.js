var y=Object.defineProperty,x=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var _=(a,t,e)=>t in a?y(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,u=(a,t)=>{for(var e in t||(t={}))k.call(t,e)&&_(a,e,t[e]);if(g)for(var e of g(t))w.call(t,e)&&_(a,e,t[e]);return a},m=(a,t)=>x(a,P(t));import{_ as D,A as p,f as L,o,b as r,d as v,F as f,h,c as z,n as C,i as A}from"./index.59f6796b.js";import{_ as B}from"./PublicationListItem.7c023254.js";const F={components:{PublicationListItem:B},methods:{getPublications(a){a=a||"view/publication";const t=this;p.get(a).then(({data:e})=>{t.data=e,console.log("publications",e)})},getForPage(a,t){a.preventDefault(),!(!t.url||t.active)&&this.getPublications(t.url)},activate(a){const t=this;p.post("/publication/activate",{id:a.id}).then(()=>{let e=t.data.data.map(i=>(i.id==a.id&&(i.activate=1),i));t.data=m(u({},t.data),{data:e})})},desactivate(a){const t=this;p.post("/publication/desactivate",{id:a.id}).then(()=>{let e=t.data.data.map(i=>(i.id==a.id&&(i.activate=0),i));t.data=m(u({},t.data),{data:e})})}},mounted(){this.getPublications()},data(){return{data:{}}}},I={key:0,class:"pl-32"},j={key:1,class:"pb-32"},H={class:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3"},M={class:"flex justify-center mt-5"},T={class:"relative z-0 inline-flex justify-center rounded-md shadow-sm","aria-label":"Pagination"},V=["disabled","innerHTML","onClick"];function q(a,t,e,i,s,c){const b=L("PublicationListItem");return s.data.data==null||s.data.data==null||s.data.data.length==0?(o(),r("div",I,"Vous n'avez pas de publications.")):(o(),r("div",j,[v("div",H,[(o(!0),r(f,null,h(s.data.data,(n,d)=>(o(),z(b,{key:n.id,publication:n,publique:"admin",class:"opacity-0 animate-fade-in-down",style:C({animationDelay:`${d*.1}s`}),onActivate:l=>c.activate(n),onDesactivate:l=>c.desactivate(n)},null,8,["publication","style","onActivate","onDesactivate"]))),128))]),v("div",M,[v("nav",T,[(o(!0),r(f,null,h(s.data.meta.links,(n,d)=>(o(),r("a",{key:d,disabled:!n.url,innerHTML:n.label,href:"#",onClick:l=>c.getForPage(l,n),"aria-current":"page",class:A(["relative inline-flex items-center px-4 py-2 border text-sm font-medium whitespace-nowrap",[n.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",d===0?"rounded-l-md":"",d===s.data.links.length-1?"rounded-r-md":""]])},null,10,V))),128))])])]))}var G=D(F,[["render",q]]);export{G as default};
